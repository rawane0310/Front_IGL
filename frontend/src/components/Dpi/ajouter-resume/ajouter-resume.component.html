
<div class="form-bg" (click)="closeAjouterRes()">
    <div class="form-container" (click)="$event.stopPropagation()">
      <div class="steps">
        <div class="step" [class]="next() ? 'step-done' : 'step-active'">
          <div class="step-number">2</div>
          <div class="step-title"> Resume de la consultation</div>
      </div>
        <div class="bar" [class]="next() ? 'bar-done' : 'bar-active'" ></div>
        <div class="step" [class]="next() ? 'step-active' : ''">
            <div class="step-number">3</div>
            <div class="step-title"> Ordonnance</div>
        </div>
        
    </div>
    @if(!next()){
      <div class="details-container">
        <form [formGroup]="formGroup" (submit)="onSubmit($event)">
            @if(resume()){
                <h3 class="form-title">Modifiez les détails du resume ! </h3>
            }@else {
                <h3 class="form-title">Remplissez les détails du resume! </h3>
            }

            <div class="form-inputs">

                <div class="form-group">
        <label for="diagnostic">le diagnostique</label>
        <textarea  formControlName="diagnostic" rows="4" ></textarea>
        @if(formGroup.controls['diagnostic'].errors && (formGroup.controls['diagnostic'].dirty || formGroup.controls['diagnostic'].touched)){
          <small class="error"> *Ce champs est obligatoire </small>
      }
        </div>

                <div class="form-group">
        <label class="txt" for="symptomes">Symptômes</label>
        <textarea  formControlName="symptomes" rows="4" ></textarea>
        @if(formGroup.controls['symptomes'].errors && (formGroup.controls['symptomes'].dirty || formGroup.controls['symptomes'].touched)){
          <small class="error"> *Ce champs est obligatoire </small>
      }
    </div> 
               

            

                <div class="form-group">
      <label  for="date_prochaine_consultation">Date de prochaine consultation</label>
      <input type="date" formControlName="date_prochaine_consultation" />
      @if(formGroup.controls['date_prochaine_consultation'].errors && (formGroup.controls['date_prochaine_consultation'].dirty || formGroup.controls['date_prochaine_consultation'].touched)){
        <small class="error"> *Ce champs est obligatoire </small>
    }
                </div>

            
            <div class="form-group">
                <label class="txt" for="mesures_prises">Valeurs Mesurees:</label>
                <textarea  formControlName="mesures_prises" rows="2" ></textarea>
                @if(formGroup.controls['mesures_prises'].errors && (formGroup.controls['mesures_prises'].dirty || formGroup.controls['mesures_prises'].touched)){
                  <small class="error"> *Ce champs est obligatoire </small>
              }  
            </div> 
            
         
         
    </div>
    <div class="next">
              
      <button type="submit" class="btn" [disabled]="userIndicatorService.loadingData().isLoading">Suivant</button>
    
      <button type="submit" class="btn" [disabled]="userIndicatorService.loadingData().isLoading" (click)="closeAjouterResume()">Enregistrer</button>
     
  </div>
        </form>

     
      
</div>
} @else {
  <div class="med-container">
    <h3 class="form-title align"> Ordonnance </h3>
    
    
                            <app-ajouter-ordonnance [consId]="consId" [consDate]="consDate" (ajouterResCloseEvent)="closeAjouterMedicament()"></app-ajouter-ordonnance>
                        
     
    <div class="next">
        <button class="btn" [disabled]="userIndicatorService.loadingData().isLoading" (click)="closeAjouterResume()" >Terminer</button>
    </div>
    </div>         
}



